<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script src="https://code.jquery.com/jquery-3.4.1.js"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
<style>

    img{
        width: 450px;
        height: 500px;
    }

    body{
        background-color: black;
    }

    p{
        color: yellow;
        font-weight: 600;
    }

    #btn_click{
        background-color: black;
        margin-top: 5px;
    
    }

   


</style>

</head>
<body>


    <div class="container">
            <p class="h1 text-center text-white">Bhagawad Gita</p>
            
           
            <div class="bd-example">
                    <div id="carouselExampleCaptions" class="carousel slide" data-ride="carousel">
                      <ol class="carousel-indicators">
                        <li data-target="#carouselExampleCaptions" data-slide-to="0" class="active"></li>
                        <li data-target="#carouselExampleCaptions" data-slide-to="1"></li>
                        <li data-target="#carouselExampleCaptions" data-slide-to="2"></li>
                      </ol>
                      <div class="carousel-inner">
                        <div class="carousel-item active">
                          <img src="/home/rahul/coding/week_5/project/gita-1.jpg" class="d-block w-100" alt="...">
                          <div class="carousel-caption d-none d-md-block">
                            
                            
                          </div>
                        </div>
                        <div class="carousel-item">
                          <img src="/home/rahul/coding/week_5/project/gita-2.jpg" class="d-block w-100" alt="...">
                          <div class="carousel-caption d-none d-md-block">
                            
                            
                          </div>
                        </div>
                        <div class="carousel-item">
                          <img src="/home/rahul/coding/week_5/project/gita-3.jpg" class="d-block w-100" alt="...">
                          <div class="carousel-caption d-none d-md-block">
                            
                            
                          </div>
                        </div>
                      </div>
                      <a class="carousel-control-prev" href="#carouselExampleCaptions" role="button" data-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="sr-only">Previous</span>
                      </a>
                      <a class="carousel-control-next" href="#carouselExampleCaptions" role="button" data-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="sr-only">Next</span>
                      </a>
                    </div>
            </div>
            
            <button type="button" class="btn btn-dark offset-md-4" id="btn_click">Click here to know more about Bhagawad Gita</button>
    </div>

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
<script>


function getUserData(displayFunction){
  var result = null;
  var xhr = new XMLHttpRequest(); 
  xhr.open('GET', 'https://bhagavadgita.io/api/v1/chapters?access_token=H220DXYK1KZka8q9LsCTwWJxiSsM0V');
  xhr.send()
  xhr.onload = function (){
    if(xhr.status == 200){
        
      result = xhr.response;
      var obj = JSON.parse(result);
      console.log(obj);
      
      displayFunction(obj);
    }
    else{
      console.log("Error Code is:" + xhr.status);
    }
  } 
}

// This function will check the input to see if it is null and print the input to a p tag if it is not null.
var result = function (input){
  var body = document.querySelector('body');
 var display = document.createElement('p');
  if(input == null){ // checking if the input is null
    display.textContent = "Error! No user data received or invalid request!";
    //It will print an error if the input is null
 }
  else{
   display.textContent = input;
    //Otherwise it will display the text
 }
 body.append(display);
}



//Button and listener for the `click here to print the user data!` button
var displayBtn = document.querySelector('#btn_click')
displayBtn.addEventListener('click',function(){
  getUserData(result);
});




</script>
    
</body>
</html>